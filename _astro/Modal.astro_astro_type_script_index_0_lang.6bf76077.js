let a=document.querySelectorAll(".modal"),c,l;const i=e=>[...e.querySelectorAll('a, button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])')].filter(o=>!o.hasAttribute("disabled")),u=(e,o)=>{const r=i(o),t=r[0],s=r[r.length-1];document.activeElement===s&&e.key==="Tab"&&!e.shiftKey&&(e.preventDefault(),t.focus()),document.activeElement===t&&e.key==="Tab"&&e.shiftKey&&(e.preventDefault(),s.focus())},d=e=>{const o=e.querySelector("h3"),r=e.querySelector(".modal__inner");e.showModal(),o.focus(),c=new AbortController,l=new AbortController,document.addEventListener("keydown",t=>u(t,e),{signal:c.signal}),e.addEventListener("keydown",t=>{t.key==="Escape"&&n()},{signal:l.signal}),e.addEventListener("click",()=>{n()},{signal:l.signal}),r.addEventListener("click",t=>{t.stopPropagation()},{signal:l.signal})},n=()=>{a.forEach(e=>{const o=e.getAttribute("aria-labelledby");document.querySelector(`#${o}`).focus({preventScroll:!0}),e.close(),c?.abort(),l?.abort()})};a.forEach(e=>{const o=e.getAttribute("aria-labelledby"),r=e.querySelector(".modal__close button"),t=document.querySelector(`#${o}`);if(!t)throw new Error(`Trigger element not found. 

      Did you forget to add a trigger element with id: "${o}"?`);t.addEventListener("click",()=>d(e)),r.addEventListener("click",n)});window.closeModal=n;document.addEventListener("astro:after-swap",()=>{a=document.querySelectorAll(".modal"),a.forEach(e=>{const o=e.getAttribute("aria-labelledby"),r=e.querySelector(".modal__close button"),t=document.querySelector(`#${o}`);if(!t)throw new Error(`Trigger element not found. 

      Did you forget to add a trigger element with id: "${o}"?`);t.addEventListener("click",()=>d(e)),r.addEventListener("click",n)})});

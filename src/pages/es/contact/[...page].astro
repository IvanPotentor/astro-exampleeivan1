---

import DefaultLayout from '../../../layouts/esp/DefaultLayout.astro'
// Importa los archivos de estilo de flatpickr
import 'flatpickr/dist/flatpickr.css';
import { Icon } from 'astro-icon'

  // Importa flatpickr
  

export async function getStaticPaths({ paginate }) {
  const response = await fetch('https://jsonplaceholder.typicode.com/posts')
  const data = await response.json()

  return paginate(data, { pageSize: 6 })
}

const social =[
  {
    social: 'Facebook',
    pack:'bi',
    id: 'facebook',
    collection: 'Facebook ',
    link:'https://www.facebook.com/OrangeDotMKT?mibextid=hIlR13'
  },
  {
    social: 'correo',
    pack:'mi',
    id: 'email',
    collection: 'ira@orangedotmkt.com',
    link:'mailto:ira@orangedotmkt.com'
  },
 
  {
    social: 'linkedin',
    pack:'bi',
    id: 'linkedin',
    collection: 'linkedin',
    link:'https://www.linkedin.com/in/orange-dot-mkt?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app'
  },
  {
    social: 'telefono',
    pack:'bi',
    id: 'phone',
    collection: '888-296-7052',
    link:'tel:8882967052'
  }
]


---

<DefaultLayout
  title="Contact"
  description="An example of a blog with dynamic content fetched from JSONPlaceholder using the title, body and userId."
>
  <section class=" overflow-hidden py-16 sm:py-20">
    <div class="mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8">
      <dl class="grid gap-6 lg:grid-cols-3">
        <!-- Address -->
        <div class="bg-slate-500/10 dark:bg-primary-400/10 rounded-3xl px-6 py-8">
          <dt class="sr-only">Postal address</dt>
          <dd class="flex h-full flex-col justify-between gap-3">
            <svg
              class="text-primary-600 dark:text-primary-400 h-6 w-6"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
              aria-hidden="true"
            >
              <path
                d="M12 23.7279L5.63604 17.364C2.12132 13.8492 2.12132 8.15076 5.63604 4.63604C9.15076 1.12132 14.8492 1.12132 18.364 4.63604C21.8787 8.15076 21.8787 13.8492 18.364 17.364L12 23.7279ZM16.9497 15.9497C19.6834 13.2161 19.6834 8.78392 16.9497 6.05025C14.2161 3.31658 9.78392 3.31658 7.05025 6.05025C4.31658 8.78392 4.31658 13.2161 7.05025 15.9497L12 20.8995L16.9497 15.9497ZM12 13C10.8954 13 10 12.1046 10 11C10 9.89543 10.8954 9 12 9C13.1046 9 14 9.89543 14 11C14 12.1046 13.1046 13 12 13Z"
              ></path>
            </svg>
            <div class="text-base font-medium">
              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d859098.5789835837!2d-96.96359495!3d32.743071949999994!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x864e82b81f3a3a2d%3A0x53724d9a808b8ce5!2sDallas-Fort%20Worth%20metroplex%2C%20Texas%2C%20EE.%20UU.!5e0!3m2!1ses!2smx!4v1702765607023!5m2!1ses!2smx" width="600" height="170" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
              <p>DFW</p>
            </div>
          </dd>
        </div>

        <div class="bg-slate-500/10 dark:bg-primary-400/10 rounded-3xl px-6 py-8">
          <dt class="sr-only">Postal address</dt>
          <dd class="flex h-full flex-col justify-between gap-3">
            <svg
              class="text-primary-600 dark:text-primary-400 h-6 w-6"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
              aria-hidden="true"
            >
              <path
                d="M12 23.7279L5.63604 17.364C2.12132 13.8492 2.12132 8.15076 5.63604 4.63604C9.15076 1.12132 14.8492 1.12132 18.364 4.63604C21.8787 8.15076 21.8787 13.8492 18.364 17.364L12 23.7279ZM16.9497 15.9497C19.6834 13.2161 19.6834 8.78392 16.9497 6.05025C14.2161 3.31658 9.78392 3.31658 7.05025 6.05025C4.31658 8.78392 4.31658 13.2161 7.05025 15.9497L12 20.8995L16.9497 15.9497ZM12 13C10.8954 13 10 12.1046 10 11C10 9.89543 10.8954 9 12 9C13.1046 9 14 9.89543 14 11C14 12.1046 13.1046 13 12 13Z"
              ></path>
            </svg>
            <div class="text-base font-medium">
              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d220449.196165526!2d-97.75574245!3d30.3077609!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8644b599a0cc032f%3A0x5d9b464bd469d57a!2sAustin%2C%20Texas%2C%20EE.%20UU.!5e0!3m2!1ses!2smx!4v1704412901342!5m2!1ses!2smx" width="600" height="170" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
              <p>Austin, TX</p>
            </div>
          </dd>
        </div>

        <div class="bg-slate-500/10 dark:bg-primary-400/10 rounded-3xl px-6 py-8">
          <dt class="sr-only">Postal address</dt>
          <dd class="flex h-full flex-col justify-between gap-3">
            <svg
              class="text-primary-600 dark:text-primary-400 h-6 w-6"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
              aria-hidden="true"
            >
              <path
                d="M12 23.7279L5.63604 17.364C2.12132 13.8492 2.12132 8.15076 5.63604 4.63604C9.15076 1.12132 14.8492 1.12132 18.364 4.63604C21.8787 8.15076 21.8787 13.8492 18.364 17.364L12 23.7279ZM16.9497 15.9497C19.6834 13.2161 19.6834 8.78392 16.9497 6.05025C14.2161 3.31658 9.78392 3.31658 7.05025 6.05025C4.31658 8.78392 4.31658 13.2161 7.05025 15.9497L12 20.8995L16.9497 15.9497ZM12 13C10.8954 13 10 12.1046 10 11C10 9.89543 10.8954 9 12 9C13.1046 9 14 9.89543 14 11C14 12.1046 13.1046 13 12 13Z"
              ></path>
            </svg>
            <div class="text-base font-medium">
              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3688164.7578671137!2d-99.81416929999999!3d25.4809101!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x86629584a2a5b05d%3A0x701df442c36cbbc6!2sNuevo%20Le%C3%B3n!5e0!3m2!1ses!2smx!4v1704238832665!5m2!1ses!2smx" width="600" height="170" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
              <p>Monterrey N.L Mexico</p>
            </div>
          </dd>
        </div>

      </dl>
    </div>


    <div class="overflow-hidden mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8 my-14">
      <div class="grid gap-12 lg:grid-cols-2 lg:gap-8">
        <div class="flex flex-col gap-4 sm:gap-6">
          <div class="w-full shrink-0 grow-0 basis-auto">
            <div class="flex flex-wrap pt-8 lg:pt-0">
              {
                social.map(
                  (method) =>
                    <div class="mb-12 w-full shrink-0 grow-0 basis-auto pr-3 md:w-1/2 ">
                      <div class="flex items-start">
                        <div class="shrink-0">
                          <Icon
                            pack={method.pack}
                            name={method.id}
                            class="flex h-14 w-14 items-center justify-center rounded-md bg-purple-600 p-4 text-white shadow-md"
                          />
                        </div>
                        <div class="ml-6 grow">
                          <p class="mb-1 font-bold">{method.social}</p>
                          <p>
                            <a
                              href={method.link}
                              class="text-purple-600 hover:text-pink-600 dark:text-purple-300 dark:hover:text-pink-300"
                              target="_blank"
                            >
                              {method.collection}
                              
                            </a>
                          </p>
                        </div>
                      </div>
                    </div>
                )
              }
            </div>
          </div>
        </div>
        <form id="form" action="https://formspree.io/f/mleykrqr" method="POST" class="mt-3 flex flex-col gap-y-6">
            <h3
              class="pb-8  text-3xl tracking-tight text-gray-900 dark:text-gray-100 animate-fade-right animate-ease-in-out animate-delay-75 text-center">
              <span class="block xl:inline text-gradient">Agende una llamada GRATUITA de 30 minutos con uno de nuestros expertos en marketing</span>
            </h3>
          <!-- Full name input -->
            <div class="relative">
              <input 
                id="name"
                name="nameF"
                type="text"
                class="peer w-full border-b-2 border-0 dark:bg-[#161618] text-orange-500 placeholder-transparent focus:outline-none focus:border-b-purple-600 px-4 py-4 rounded-md"
                placeholder="full"
                autocomplete="off"
              />
              <label for="nameF" class="absolute left-0 -top-3.5 text-purple-500 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-2 peer-focus:-top-3.5 peer-focus:text-purple-500 peer-focus:text-sm">Nombre</label>
            </div>
  
          <!-- Email input -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
  
            <div class="relative">
              <input 
                  id="email"
                  name="email"
                  type="email"
                  class="peer w-full border-b-2 border-0 dark:bg-[#161618] text-orange-500 placeholder-transparent focus:outline-none focus:border-b-purple-600 px-4 py-4 rounded-md"
                  placeholder="john@doe.com"
                  autocomplete="off"
              />
              <label for="email" class="absolute left-0 -top-3.5 text-purple-500 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-2 peer-focus:-top-3.5 peer-focus:text-purple-500 peer-focus:text-sm">Correo</label>
            </div>
            
            <div class="relative max-w-sm">
              <div class="absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none">
                <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"/>
                </svg>
              </div>
              <input datepicker type="text" name="date" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
              placeholder="Fecha"
              autocomplete="off"
              >
            </div>
          </div>
  
  
          <!-- Message textarea -->
          <div>
            <label for="message" class="sr-only">Mensaje</label>
            <textarea
              name="message"
              id="message"
              rows="3"
              class="w-full border-b-2 border-0 dark:bg-[#161618] text-orange-500 focus:outline-none focus:border-b-purple-600 px-4 py-4 rounded-md dark:placeholder:text-primary-200/60 "
              placeholder="Mensaje"></textarea>
          </div>
  
          <div>
            <button
              class="button has-icon"
              type="submit"
            >
            Contacte con nosotros
              <Icon pack="mdi" name="arrow-right-circle-outline" />
            </button>
  
            <!-- <a class="button has-icon" href="https://github.com/markteekman/accessible-astro-starter">
              <Icon pack="mdi" name="arrow-right-circle-outline" />
              Contact Us
            </a> -->
          </div>
        </form>
      </div>
    </div>
  </section>

</DefaultLayout>


<style lang="scss">
  ul {
    display: grid;
    grid-template-columns: 1fr;
    grid-gap: 4rem;

    @media (min-width: 550px) {
      grid-template-columns: repeat(2, 1fr);
      grid-gap: 2rem;
    }

    @media (min-width: 950px) {
      grid-template-columns: repeat(3, 1fr);
    }
  }
  .text-gradient {
    background: linear-gradient(315deg, var(--primary-200) 25%, var(--secondary-500));
    background-clip: border-box;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

</style>

<script>
  const form = document.querySelector('#form')

  form?.addEventListener('submit',handleSubmit)

  async function handleSubmit(event){
    event.preventDefault()

    try {
      
      const formD = new FormData(this)
      const response = await fetch(this.action,{
        method: this.method,
        body: formD,
        headers:{
          'Accept': 'application/json'
        }
      })
      if(response.ok){
        this.reset()
        Swal.fire({
          title: "Thank you for contacting us!",
          text: "We will confirm your appointment shortly.",
          imageUrl: "/message.jpg",
          imageWidth: 400,
          imageHeight: 200,
          imageAlt: "Custom image"
        });
      }

    } catch (error) {
      console.error('Error en la solicitud:', error);
      alert('Error al enviar el formulario');
    }
  }
</script>